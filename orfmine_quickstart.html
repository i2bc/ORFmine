<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Quick start - ORFmine Documentation</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="css/extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Quick start";
        var mkdocs_page_input_path = "orfmine_quickstart.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="index.html" class="icon icon-home"> ORFmine Documentation
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">ORFmine</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="orfmine_installation.html">Installation</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="orfmine_quickstart.html">Quick start</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#prepare-your-directories">Prepare your directories</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#database-directory-any-usage">database directory (any usage)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#working-directory-any-usage">working directory (any usage)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#fastq-directory-orfribo">fastq directory (ORFribo)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#launch-the-container">Launch the container</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#binding-tango-andor-iupred">Binding Tango and/or IUPred</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="orfmine_example.html">Running example</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="orfmine_citations.html">Citations</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ORFtrack</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">ORFtrack presentation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_description.html">Aims and general description</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_orfdef.html">ORF definition</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_annotation.html">ORF annotation</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_overlap.html">Overlap definition</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_orf_extraction.html">ORF extraction</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Usage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_input.html">Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_run.html">ORF annotation with ORFtrack</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfget_run.html">ORF extraction with ORFget</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Parameters</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orftrack_param.html">ORFtrack parameters</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfget_param.html">ORFget parameters</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ORFold</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">ORFold presentation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="Objective_orfold.html">Objective</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="How_it_works_orfold.html">How it works?</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Usage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="Run_orfold.html">Basic run ORFold</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="Plot_orfold.html">Plots with ORFplot</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="Run_orfold_advanced.html">Advanced run ORFold</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Parameters</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="parameters_orfold.html">ORFold parameters</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="parameters_orfplot.html">ORFplot parameters</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ORFribo</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">ORFribo presentation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_objectives.html">Objectives</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="How_it_works_orfribo.html">How it works</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Usage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_inputs.html">Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_configuration.html">ORFribo configuration</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_run.html">Basic run ORFribo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_advanced.html">Advanced run ORFribo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfribo_outputs.html">Outputs</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ORFdate</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">ORFdate presentation</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orfdate_objectives.html">Objectives</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="How_it_works_orfdate.html">How it works</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">Usage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="orfdate_inputs.html">Inputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfdate_run.html">Run</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfdate_outputs.html">Outputs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="orfdate_parameters.html">Parameters</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ORFmine Documentation</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html" class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>ORFmine &raquo;</li>
      <li>Quick start</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="quick-start">Quick start<a class="headerlink" href="#quick-start" title="Permanent link">#</a></h1>
<p>Here we first explain how to <a href="#prepare_folders">prepare the folders</a> necessary for ORFmine and <a href="#start_container">launch the container</a>.</p>
<p><a name="prepare_folders"></a></p>
<h2 id="prepare-your-directories">Prepare your directories<a class="headerlink" href="#prepare-your-directories" title="Permanent link">#</a></h2>
<p>First, you need to prepare your directories (that will depend on the usage) with the appropriate data. These directories will then be bound to your container when launching the container, so that your data will be accessible to the ORFmine programs (see <a href="#start_container">here</a> for launching the container).</p>
<p>Your future container will have the following architecture:</p>
<pre>
/
├── database
├── fastq
└── workdir
    ├── orfdate
    ├── orfold
    └── orfribo
</pre>

<h3 id="database-directory-any-usage">database directory (any usage)<a class="headerlink" href="#database-directory-any-usage" title="Permanent link">#</a></h3>
<p>Several files must be provided in order to run the different ORFmine programs. They need to be
placed in the same directory whatever the programs to be used. This directory will then be bound to the /database directory of your future container.</p>
<ul>
<li>For ORFtrack:<ul>
<li>A fasta file with the reference genome sequence (e.g. genome.fa)</li>
<li>A gff file with the reference genome annotation (e.g. genome.gff3)</li>
</ul>
</li>
<li>For ORFribo:<ul>
<li>A fasta file with the reference genome sequence (e.g. genome.fa)</li>
<li>A gff file with the reference genome annotation (e.g. genome.gff3)</li>
<li>A fasta file with the sequences you do not want to treat and that you want to remove from the mapping, usually rRNA sequences (e.g. outRNA.fa)</li>
</ul>
</li>
<li>For ORFold:<ul>
<li>A fasta file with the amino acid sequences to treat</li>
<li>A gff file (optional) if you want to map the HCA, Tango or IUPred scores along the chromosome and to see them with a genome browser like IGV.</li>
</ul>
</li>
<li>For ORFdate:<ul>
<li>Fasta files of the complete proteomes (amino acid sequences) of the focal species and its neighbors</li>
<li>The corresponding tree (nwk format)</li>
<li>Table (2 columns) with the paths to the fasta files of proteomes and the names of the corresponding species</li>
</ul>
</li>
</ul>
<p>More details are given in the corresponding sections.</p>
<p>All these files whatever the programs you will run must be in the same local directory (though subdirectories can be created for more clarity but they must be in the same global directory) that will constitute the /database directory of the future container. You are free to choose the name and the path of the folder in your local machine.</p>
<h3 id="working-directory-any-usage">working directory (any usage)<a class="headerlink" href="#working-directory-any-usage" title="Permanent link">#</a></h3>
<p>When creating the container, please be aware that you will choose a directory that will be your working directory and where some of the outputs will be written.</p>
<ul>
<li>Particular case of ORFribo:<ul>
<li>The working directory must contain the configuration file called <em>config.yaml</em>, completed by the user (see <a href="#ORF_ribo">here</a> for more details on how to complete the <em>config.yaml</em>).</li>
</ul>
</li>
</ul>
<p>This directory will then be bound on the /workdir directory of your future
container. You are free to choose the name and the path of the folder in your
local machine.</p>
<h3 id="fastq-directory-orfribo">fastq directory (ORFribo)<a class="headerlink" href="#fastq-directory-orfribo" title="Permanent link">#</a></h3>
<p>If you want to use ORFribo, you must place the Ribosome Profiling data (i.e. the fastq(.gz) files) in a specific folder <strong>without anything else inside it</strong>.
You can have this folder wherever you want on your computer and name
it as you like. This directory will then be bound to the /fastq directory of your future container.</p>
<p><a name="start_container"></a></p>
<h2 id="launch-the-container">Launch the container<a class="headerlink" href="#launch-the-container" title="Permanent link">#</a></h2>
<p>To launch the container and get an interactive shell inside it, you can use either
the "singularity " or the "docker" commands. Every folder that you have prepared <a href="#prepare_folders">before</a> must be bound to their corresponding folders inside the container through the -v or -B options (see the command lines below). In the following command lines, every italics part has to be adapted from your computer's organization (names and paths) and the other parts are part of the container structure and <strong>must remain as they are!</strong></p>
<p><strong>Using singularity</strong></p>
<pre>
<code class="language-bash">singularity shell --pwd /workdir/ \
-B <i>PATH_TO_YOUR_WORKING_DIR</i>:/workdir/ \
-B <i>PATH_TO_YOUR_DATA_DIR</i>:/database/ \
-B <i>PATH_TO_YOUR_FASTQ_DIR</i>:/fastq/ \
<i>PATH_TO_YOUR_ORFMINE_IMAGE</i>.sif</code>
</pre>

<p><strong>Using docker</strong></p>
<p>The same logic applies with the docker command except that <strong>absolute paths</strong> must be given:</p>
<pre>
<code class="language-bash">docker run --rm -it \
-v <i>ABSOLUTE_PATH_TO_YOUR_WORKING_DIR</i>:/workdir/ \
-v <i>ABSOLUTE_PATH_TO_YOUR_DATA_DIR</i>:/database/ \
-v <i>ABSOLUTE_PATH_TO_YOUR_FASTQ_DIR</i>:/fastq/ \
lopesi2bc/orfmine:latest /bin/bash</code>
</pre>

<p>Please note that if you do not want to use ORFribo, you do not need to link the fastq folder to the container and can remove the binding part of the command line: <code><i>PATH_TO_YOUR_FASTQ_DIR</i>:/fastq/</code>. See <a href="orfmine_binding.html">here</a> for more details on how to bind your local folders to those of the container.</p>
<h4 id="binding-tango-andor-iupred">Binding Tango and/or IUPred<a class="headerlink" href="#binding-tango-andor-iupred" title="Permanent link">#</a></h4>
<p>If you want to use Tango and/or IUPred with ORFfold, you will need to have those softwares installed on your local computer (choose the Unix compatible source code for Tango). </p>
<p>Once installed, please place the parent directory content of those softwares inside a directory of your choice. Below is a description of the workflow we followed:</p>
<pre><code class="language-bash"># let's consider Tango is installed in ~\tango and IUPred in ~/iupred2a

# create a directory that will contain Tango and IUPred source codes content
mkdir ~/softwares

# place Tango UNIX source code content in softwares/
cp ~/tango/tango_x86_64_release ~/softwares

# place IUPred necessary codes content in softwares/
cp ~/iupred2a/iupred2a_lib.py ~/softwares
cp ~/iupred2a/iupred2a.py ~/softwares
cp -r ~/iupred2a/data ~/softwares
</code></pre>
<p>To use Tango and/or IUPred on the container, you must launch your container by binding the directory created above to a specific directory on the container</p>
<p>For singularity:</p>
<pre>
<code class="language-bash">singularity shell --pwd /workdir/ \
-B <i>PATH_TO_YOUR_WORKING_DIR</i>:/workdir/ \
-B <i>PATH_TO_YOUR_DATA_DIR</i>:/database/ \
-B <i>PATH_TO_YOUR_FASTQ_DIR</i>:/fastq/ \
-B <i>PATH_TO_YOUR_DIR_CONTAINING_TANGO_OR_IUPRED</i>:/ORFmine/orfold_v1/orfold/softwares/ \
<i>PATH_TO_YOUR_ORFMINE_IMAGE</i>.sif</code>
</pre>
<p>For docker:</p>
<pre>
<code class="language-bash">docker run --rm -it \
-v <i>ABSOLUTE_PATH_TO_YOUR_WORKING_DIR</i>:/workdir/ \
-v <i>ABSOLUTE_PATH_TO_YOUR_DATA_DIR</i>:/database/ \
-v <i>ABSOLUTE_PATH_TO_YOUR_FASTQ_DIR</i>:/fastq/ \
-v <i>ABSOLUTE_PATH_TO_YOUR_DIR_CONTAINING_TANGO_OR_IUPRED</i>:/ORFmine/orfold_v1/orfold/softwares/ \
lopesi2bc/orfmine:latest /bin/bash</code>
</pre>

<p>You are ready to run your analyses! That said, we strongly recommend starting with a <a href="orfmine_example.html">small example</a> we prepared for you.</p>
<div class="admonition note">
    <p class="first admonition-title">
        Note
    </p>
    <p class="last">

    <ul>
    <li> When launching the container with docker, the <i>lopesi2bc/orfmine:latest</i> part can be changed if you want to launch a specific version of ORFmine. For example : <i>lopesi2bc/orfmine:v0.8.7</i>.
     </li>

        <li>  If you do not know which versions you have on your computer,
        you can print them by typing <code>docker image ls</code>
         </li>

         <li>
         WARNING: please keep in mind that, once launched, you work <i>inside</i> the container. Filenames in the
command lines must, therefore, be indicated either alone (i.e. without any path) or prefixed with the path of the folder as it is
inside the container (i.e. path relative to the container not to your local machine - e.g. /database, /fastq, /workdir).
For example, when running ORFold, the fasta filenames must be indicated in the command line as follows:
<code>orfold -faa sequences.fasta</code>
OR
<code>orfold -faa /database/sequences.fasta</code>
         Again, do not indicate the path of the sequences.fasta file according to your local machine architecture - the container only refers to its relative paths.

         </li>

          <li>
          If you want autocompletion when writing the filenames, you need to
        precise the path of the folder containing the corresponding files (relative path according to the container).
         </li>

    <li>
    You can verify the content of your directories as follows:
<code>ls /workdir/</code>
This should display all the files and folders of the working directory.
Or :
<code>ls /database/</code>
This should display all the files and folders of the data folder containing all the data files (fasta, gff, ...).
    </li>
     </ul>
    </p>
</div>

<p><br></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="orfmine_installation.html" class="btn btn-neutral float-left" title="Installation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="orfmine_example.html" class="btn btn-neutral float-right" title="Running example">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="orfmine_installation.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="orfmine_example.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="js/extra.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
